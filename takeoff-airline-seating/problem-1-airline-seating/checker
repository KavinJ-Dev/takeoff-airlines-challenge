#!/usr/bin/env python3

import unittest
import sys
import io
sys.path.append(".")

import modify_me


class TestHelloWorld(unittest.TestCase):
    def test_hello_world(self):
        # Capture printed output
        captured = io.StringIO()
        sys_stdout_backup = sys.stdout
        sys.stdout = captured

        try:
            modify_me.hello_world()
        finally:
            sys.stdout = sys_stdout_backup

        output = captured.getvalue().strip()
        self.assertEqual(output, "Hello World")


def run_tests(test_case):
    suite = unittest.TestLoader().loadTestsFromTestCase(test_case)
    result = unittest.TestResult()
    suite(result)

    if result.wasSuccessful():
        print(f"{result.testsRun}/{result.testsRun} tests passed!")
        return True
    else:
        print(f"{len(result.failures)}/{result.testsRun} tests failed!")
        for test, err in result.failures + result.errors:
            print("===================")
            print(test)
            print(err)
        print("===================")
        return False


if __name__ == "__main__":
    if run_tests(TestHelloWorld):
        print("All tests pass! ðŸŽ‰")
        with open("/flag") as f:
            print(f.read())
    else:
        print("Some tests failed. Please try again.")




# import unittest
# import modify_me

# class TestAirlineSeating(unittest.TestCase):                                  # Defining the class for the test case
#   def test_example(self)                                                      # First Test checking for mixed valid & invalid inputs
#     date =  [150, 25, 150, 301, 25, 0, 1, "ABC", 3.5, None, 300]              # input list based on the provided examples made in description by Justin
#         expected = [1, 25, 150, 300]                                          # expected output as specified in the example
#         self.assertEqual(modify_me.takeoff_clean_seats(data), expected)       # compares the user output to the expected output

#     def test_invalid_values(self):                                            # The Second Test checks only invalid entries
#         data = [-5, 301, "ABC", 3.5, None]                                    # All of these are invalid entries that are being tested
#         expected = []                                                         # Nothing valid should remain, no valid inputs in this test in the first place, if something appears then the code is bugged
#         self.assertEqual(modify_me.takeoff_clean_seats(data), expected)       # checking against the output, asserting the empty list result

#     def test_duplicates(self):                                                # The Third Test checks for duplicates of valid seats
#         data = [150, 25, 150, 25]                                             # a list of duplicated valid integers as input
#         expected = [25, 150]                                                  # duplicates eliminated and then sorted from least to greatest
#         self.assertEqual(modify_me.takeoff_clean_seats(data), expected)       # checking for the correct result

# if __name__ == "__main__":                                                    # Running the tests only if the script is executed directly
#     suite = unittest.TestLoader().loadTestsFromTestCase(TestAirlineSeating)   # collect all the test
#     result = unittest.TextTestRunner().run(suite)                             # excutes all the tests and gets the results
#     if result.wasSuccessful():                                                # All the tests passed, congrats!
#         with open("flag", "r") as f:                                          # You open the magical hidden flag file, if I set that up right and if you did the chalenge right
#             print(f.read())                                                   # Prints the flag as an output


